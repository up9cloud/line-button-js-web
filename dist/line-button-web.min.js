/*! line-button-js-web line-button-js-web
 * 2014-08-12
 * https://github.com/up9cloud/line-button-js-web
 * up9cloud | Licensed MIT */
!function(a){var b=function(b){for(var c=b.split("."),d=a;c.length>0;){var e=c.pop();if("undefined"==typeof d[e]&&(d[e]={}),"object"!=typeof d[e])return null;d=d[e]}return d};if(b("media_line_me")&&b("media.line.naver.jp")){var c={bind:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},getThisScriptElement:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},each:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=b(c,a[c],a);if(e===!1)return}},attr:function(a,b){for(var c in b)a.setAttribute(c,b[c])},map:function(a,b){var d=[];return c.each(a,function(a,c,e){d.push(b(a,c,e))}),d},filter:function(a,b){var d=[];return c.each(a,function(a,c,e){b(a,c,e)&&d.push(c)}),d},ready:function(a){c.bind(window,"load",a)},isSmartphone:function(){return!0}},d={constant:{LINE_BASE_URL:"//line.me/R/msg/text/",IMG_BASE_URL:"//media.line.me/img/button/",ALT:{ja:"LINEで送る",en:"LINE it!","zh-hans":"LINE it!","zh-hant":"LINE it!"},IMG_SIZE:{ja:{a:[82,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]},en:{a:[78,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]},"zh-hans":{a:[84,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]},"zh-hant":{a:[84,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]}}},insertButton:function(a,b,d){var e=this,f=e.validate(a);if(f.pc||c.isSmartphone()){var g=d.parentNode===b?d:void 0;b.insertBefore(e.createTag(f),g)}},validate:function(a){var b={lang:/^(ja|en|zh-han[st])$/,type:/^(a|b|c|d|e)$/,text:/^[\s\S]+$/},c={lang:"ja",type:"a",text:null};if(!a)return c;for(var d in c)a[d]&&"string"==typeof a[d]&&a[d].match(b[d])&&(c[d]=a[d]);return c.withUrl=!!a.withUrl,c.pc=!!a.pc,c},createTag:function(a){var b=this,d=b.constant.IMG_SIZE[a.lang][a.type],e=document.createElement("a");c.attr(e,{href:b.createUrl(a)});var f=document.createElement("img");return c.attr(f,{src:b.createImageUrl(a),width:d[0],height:d[1],alt:b.constant.ALT[a.lang]}),e.appendChild(f),e},createUrl:function(a){var b=this,c=b.text(a);return[b.constant.LINE_BASE_URL,encodeURIComponent(c).replace(/\+/g,"%20")].join("?")},text:function(a){var b;return a.text?(b=[a.text],a.withUrl&&b.push(document.location.href)):b=[document.title,document.location.href],b.join("\n")},createImageUrl:function(a){var b=this,c=b.constant,d=c.IMG_SIZE[a.lang][a.type];return[c.IMG_BASE_URL,a.lang,"/",d[0],"x",d[1],".png"].join("")}};a.media_line_me.LineButton=a.jp.naver.line.media.LineButton=function(a){var b=c.getThisScriptElement(),e=b.parentNode;"head"!==e.tagName.toLowerCase()&&c.ready(function(){d.insertButton(a,e,b)})}}}(this);